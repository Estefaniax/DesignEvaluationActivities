


/* ──────────────────────────────────────────────────────────────────
   VARIABLES
────────────────────────────────────────────────────────────────── */
:root {
  /* Colores base */
  --bg: #ffffff;
  --fg: #111111;
  --muted: #555555;
  --header-bg: #000000;
  --link: #222222;
  --link-hover: #6c9be2;
  --accent: #6c9be2;
  --accent-hover: hsl(216,100%,83%);
  --card-bg: #ffffff;
  --card-shadow: rgba(0,0,0,0.04);

  /* Accesibilidad */
  --vision-bg: #ffffff;
  --vision-border: #ccc;
  --vision-btn-color: #333;
  --acc-btn-bg: #ff0066;
  --acc-btn-color: #ffffff;
}

/* ──────────────────────────────────────────────────────────────────
   MODO OSCURO (dark-mode)
────────────────────────────────────────────────────────────────── */
body.dark-mode {
  /* Override variables base */
  --bg: #111111;
  --fg: #e5e5e5;
  --muted: #cccccc;
  --header-bg: #111111;
  --link: #ffffff;
  --link-hover: #bbbbbb;
  --card-bg: #222222;
  --card-shadow: rgba(0,0,0,0.5);

  /* Accesibilidad */
  --vision-bg: #474747;
  --vision-border: #333333;
  --vision-btn-color: #e0e0e0;
  --acc-btn-bg: #000000;
  --acc-btn-color: #ffffff;
}

/* ──────────────────────────────────────────────────────────────────
   ALTO CONTRASTE (high-contrast)
────────────────────────────────────────────────────────────────── */
body.high-contrast {
  /* Override variables base */
  --bg: #000000;
  --fg: #ffff00;
  --muted: #ffffff;
  --header-bg: #000000;
  --link: #ffff00;
  --link-hover: #ff0;
  --card-bg: #000000;
  --card-shadow: rgba(255,255,0,0.8);

  /* Accesibilidad */
  --vision-bg: #000000;
  --vision-border: #FFFFFF;
  --vision-btn-color: #000000;
  --acc-btn-bg: #ffff00cd;
  --acc-btn-color: #fffdfd;
}

/* ──────────────────────────────────────────────────────────────────
   FILTROS DALTONISMO
────────────────────────────────────────────────────────────────── */
body.protanopia   { filter: sepia(.5) hue-rotate(45deg) contrast(1.2); }
body.deuteranopia { filter: sepia(.5) hue-rotate(20deg) contrast(1.2); }
body.tritanopia   { filter: sepia(.5) hue-rotate(90deg) contrast(1.2); }

/* ──────────────────────────────────────────────────────────────────
   AUMENTO DE TEXTO
────────────────────────────────────────────────────────────────── */
html.enlarge-1 { font-size: 120%; }
html.enlarge-2 { font-size: 140%; }
html.enlarge-3 { font-size: 160%; }

/* ──────────────────────────────────────────────────────────────────
   INPUTS EN dark-mode / high-contrast
────────────────────────────────────────────────────────────────── */
body.dark-mode input[type="text"],
body.dark-mode textarea,
body.dark-mode input[type="file"],
body.high-contrast input[type="text"],
body.high-contrast textarea,
body.high-contrast input[type="file"] {
  background: var(--card-bg) !important;
  color: var(--fg) !important;
  border: 1px solid var(--vision-border) !important;
}
body.dark-mode ::placeholder,
body.high-contrast ::placeholder {
  color: var(--muted) !important;
}

/* ──────────────────────────────────────────────────────────────────
   OVERRIDES GLOBALES PARA QUE dark-mode / high-contrast
   AFECTEN TODA LA PÁGINA
────────────────────────────────────────────────────────────────── */
body.dark-mode,
body.high-contrast {
  background-color: var(--bg) !important;
  color: var(--fg) !important;
}
body.dark-mode a,
body.high-contrast a {
  color: var(--link) !important;
}
body.dark-mode a:hover,
body.high-contrast a:hover {
  color: var(--link-hover) !important;
}
body.dark-mode header,
body.dark-mode nav,
body.dark-mode main,
body.dark-mode footer,
body.high-contrast header,
body.high-contrast nav,
body.high-contrast main,
body.high-contrast footer {
  background-color: var(--header-bg) !important;
  color: var(--fg) !important;
}
body.dark-mode .post,
body.dark-mode .post-card,
body.dark-mode .panel-card,
body.high-contrast .post,
body.high-contrast .post-card,
body.high-contrast .panel-card {
  background-color: var(--card-bg) !important;
  color: var(--fg) !important;
  box-shadow: 0 2px 8px var(--card-shadow) !important;
}

/* ──────────────────────────────────────────────────────────────────
   SIDEBAR DE ACCESIBILIDAD
────────────────────────────────────────────────────────────────── */
#accessibility-sidebar {
  position: fixed;
  top: 0; left: 0;
  width: 260px; height: 100%;
  background: var(--header-bg);
  box-shadow: 2px 0 8px rgba(0,0,0,0.2);
  transform: translateX(-100%);
  transition: transform .3s ease;
  z-index: 2000;
  padding: 1rem;
  overflow-y: auto;
}
#accessibility-sidebar.open {
  transform: translateX(0);
}
#close-accessibility {
  position: absolute;
  top: .5rem; right: .5rem;
  background: none;
  border: none;
  font-size: 1.5rem;
  color: #fff;
  cursor: crosshair;
}

/* ──────────────────────────────────────────────────────────────────
   BOTONES INTERIORES (solo texto, hover con fondo)
────────────────────────────────────────────────────────────────── */
#accessibility-bar {
  display: flex;
  flex-direction: column;
  gap: .75rem;
  margin-top: 1rem;
}
#accessibility-bar button {
  background: transparent;
  color: var(--acc-btn-color);
  border: none;
  padding: .6rem 0;
  text-align: left;
  cursor: crosshair;
  transition: background .2s, opacity .2s;
}
#accessibility-bar button:hover {
  background: var(--acc-btn-bg);
  opacity: .8;
}

/* ──────────────────────────────────────────────────────────────────
   DROPDOWN “Modo accesible”
────────────────────────────────────────────────────────────────── */
#simulate-vision-btn {
  position: relative;
}
#simulate-vision-btn .arrow {
  display: inline-block;
  width: .5rem;
  height: .5rem;
  margin-left: .5rem;
  border-right: 2px solid #fff;
  border-bottom: 2px solid #fff;
  transform: rotate(45deg);
  transition: transform .2s;
}
#simulate-vision-btn[aria-expanded="true"] .arrow {
  transform: rotate(-135deg);
}

/* Opciones de daltonismo ocultas por defecto */
#accessibility-sidebar #vision-modes {
  display: none;
  margin: .5rem 0 1rem;
  padding: 0 1rem;
}
/* Se muestran solo con .open */
#accessibility-sidebar #vision-modes.open {
  display: block;
}
/* Estilo de cada opción */
#accessibility-sidebar #vision-modes button {
  display: block;
  width: 100%;
  background: none !important;
  border: none;
  padding: .5rem 0;
  color: var(--vision-border) !important;
  text-align: left;
  cursor: pointer;
}

/* Nuevas opciones de accesibilidad */

/* Reducción de texto */
html.reduce-1 { font-size: 90%; }
html.reduce-2 { font-size: 80%; }
html.reduce-3 { font-size: 70%; }

/* Cambio de fuente */
html.font-alt { font-family: 'Arial', sans-serif !important; }

/* Cambios del cursor */
body.cursor-large { cursor: zoom-in !important; }

/* Ocultar imágenes */
body.no-images img { display: none !important; }

/* Ocultar links y resaltarlos */
body.no-links a {
  pointer-events: none;
  text-decoration: underline !important;
  color: #70fdff !important;
  opacity: 0.7;
}

body.cursor-large,
body.cursor-large * {
  cursor: url('../images/cursor.cur'), auto !important;
}


html.font-alt body,
html.font-alt input,
html.font-alt textarea,
html.font-alt button,
html.font-alt a,
html.font-alt p,
html.font-alt h1, html.font-alt h2, html.font-alt h3, html.font-alt h4, html.font-alt h5, html.font-alt h6,
html.font-alt span, html.font-alt div, html.font-alt label {
  font-family: 'OpenDyslexic', Arial,  sans-serif !important;
}

/* Íconos en index.php (SVG o íconos de fuente) */
body.dark-mode .action-icon i,
body.high-contrast .action-icon i,
body.dark-mode .action-icon svg,
body.high-contrast .action-icon svg {
  color: var(--link) !important;
  fill: var(--link) !important;
}

body.dark-mode .action-icon:hover i,
body.high-contrast .action-icon:hover i,
body.dark-mode .action-icon:hover svg,
body.high-contrast .action-icon:hover svg {
  color: var(--link-hover) !important;
  fill: var(--link-hover) !important;
}
